/**
**@version 1.2
**@date 2010/07/05
**@author junxue.rao
*/

/**
**@func create table systeminfo;
**/
  CREATE TABLE "STATE"."SYSTEMINFO" 
   (	"ID" NUMBER(10,0) NOT NULL ENABLE, 
	"SYSTEMINFO_ALLOWATTACHMENT" NUMBER(1,0), 
	"SYSTEMINFO_ATTACHMENTSIZE" NUMBER(10,0), 
	"SYSTEMINFO_COPYRIGHT" VARCHAR2(255 BYTE), 
	"SYSTEMINFO_HOSTNAME" VARCHAR2(255 BYTE), 
	"SYSTEMINFO_KEYWORD" VARCHAR2(255 BYTE), 
	"SYSTEMINFO_NAME" VARCHAR2(255 BYTE), 
	"SYSTEMINFO_HIGHLIGHT" NUMBER(1,0), 
	"SYSTEMINFO_HIGHLIGHTDAYS" NUMBER(10,0), 
	 PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS" ;
  
  commit;
  
REM INSERTING into SYSTEMINFO
Insert into SYSTEMINFO (ID,SYSTEMINFO_ALLOWATTACHMENT,SYSTEMINFO_ATTACHMENTSIZE,SYSTEMINFO_COPYRIGHT,SYSTEMINFO_HOSTNAME,SYSTEMINFO_KEYWORD,SYSTEMINFO_NAME,SYSTEMINFO_HIGHLIGHT,SYSTEMINFO_HIGHLIGHTDAYS) values (138,1,2048,'校址：武汉市珞喻路152号 邮编：430079 华中师范大学新农学院版权所有    copyright ? 2010 <br /><span>技术支持：网络与教育技术中心</span>   鄂ICP备05003325','新农学院','新农学院,新闻,师范','华中师范大学新农学院',1,3);

  
/**
**@func create table attachment and accessstrategy;
**/
  
  
  CREATE TABLE "STATE"."ABSTRACTACCESSSTRATEGY" 
   (	"STRATEGYTYPE" VARCHAR2(31 BYTE) NOT NULL ENABLE, 
	"ID" NUMBER(10,0) NOT NULL ENABLE, 
	"ROLE_ID" NUMBER(10,0), 
	"TAG" VARCHAR2(255 BYTE), 
	 PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "FK59A19DD9260E81F6" FOREIGN KEY ("ROLE_ID")
	  REFERENCES "STATE"."ROLE" ("ID") ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS" ;
 
  commit;
  
  drop table Attachment;
  commit;
  
  
 
  CREATE TABLE "STATE"."ATTACHMENT" 
   (	"ID" NUMBER(10,0) NOT NULL ENABLE, 
	"FILENAME" VARCHAR2(255 BYTE), 
	"FILEPATH" VARCHAR2(255 BYTE), 
	"NAME" VARCHAR2(255 BYTE), 
	"ORGINALNAME" VARCHAR2(255 BYTE), 
	"ACCESSSTRATEGY_ID" NUMBER(10,0), 
	"ENTRY_ID" NUMBER(10,0), 
	"ADDTIME" DATE, 
	"DETAIL" CLOB, 
	"TYPE_ID" NUMBER(10,0), 
	"CONTENTTYPE" VARCHAR2(255 BYTE), 
	 PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "FK1C93543B32E74B8" FOREIGN KEY ("ENTRY_ID")
	  REFERENCES "STATE"."ENTRY" ("ID") ENABLE, 
	 CONSTRAINT "FK1C93543D4BF0278" FOREIGN KEY ("ACCESSSTRATEGY_ID")
	  REFERENCES "STATE"."ABSTRACTACCESSSTRATEGY" ("ID") ENABLE, 
	 CONSTRAINT "FK1C9354335D50679" FOREIGN KEY ("TYPE_ID")
	  REFERENCES "STATE"."DATATYPE" ("ID") ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS" 
 LOB ("DETAIL") STORE AS (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192 PCTVERSION 10
  NOCACHE LOGGING 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)) ;
 commit;
 
alter table REGISTER ADD "IMAGE_ID" NUMBER(10,0) DEFAULT null;
commit;

/**
**@func init user anonymous identified by anonymous
**/

REM INSERTING into ABSTRACTUSER
Insert into ABSTRACTUSER (ID,PASSWORD,USERRIGHT,USERNAME) values (500,'294de3557d9d0b3d2d8a1e6aab028cf',0,'anonymous');
REM INSERTING into T_USER
Insert into T_USER (ACTIVATED,ADDRESS,APPENDIX,EMAIL,PHONE,ID,PORTRAIT_ID,UNIT_ID) values (0,'sadsadsa','sdsadsad','anonymous@sample.com','1344444444',500,null,null);

commit;


  CREATE TABLE "STATE"."APPLOG" 
   (	"ID" NUMBER(10,0) NOT NULL ENABLE, 
	"CREATETIME" DATE, 
	"OPERATION" VARCHAR2(255 BYTE), 
	"TARGETIDENTIFIER" VARCHAR2(255 BYTE), 
	"TARGETTYPE" VARCHAR2(255 BYTE), 
	"USERNAME" VARCHAR2(255 BYTE), 
	 PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT)
  TABLESPACE "USERS" ;
  
  commit;